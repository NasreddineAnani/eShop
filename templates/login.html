{% extends 'layout.html' %}

{% block body %}

{% with messages = get_flashed_messages(with_categories=true) %}
	{% if messages %}
		{% for category, message in messages %}
            <div class="alert alert-{{category}} alert-dismissible fade show" role="alert" id="alert">
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
                {{ message }}
            </div>
		{% endfor %}
	{% endif %}
{% endwith %}

<h2>Connexion</h2>

<form method="post" action="">

    <div class="form-group">
        <div> {{ form.email.label }}: {{ form.email(class="form-control") }}
        {% if form.email.errors %}
            <ul class="errors">
            {% for error in form.email.errors %}
                <li> {{ error }} </li>
            {% endfor %}
            </ul>
        {% endif %}
    </div>

    <div class="form-group">
        <div> {{ form.password.label }}: {{ form.password(class="form-control") }}</div>
        {% if form.email.errors %}
            <ul class="errors">
            {% for error in form.email.errors %}
                <li> {{ error }} </li>
            {% endfor %}
            </ul>
        {% endif %}
    </div>

    <input type="submit" class="btn" value="Submit">
</form>
{% endblock %}